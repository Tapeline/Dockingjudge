# Cross-platform shell configuration
# Use PowerShell on Windows (higher precedence than shell setting)
set windows-shell := ["powershell.exe", "-NoLogo", "-Command"]
# Use sh on Unix-like systems
set shell := ["sh", "-c"]

build:
  docker build -t dockingjudge-unit .

run:
  docker run dockingjudge-unit -d -p 9090:8000

test:
  uv run pytest tests/unit
  docker run dockingjudge-unit -d --name judgelet-integration-testing -p 9090:8000
  JUDGELET_URL=http://localhost:9090 uv run pytest tests/integration
  docker stop judgelet-integration-testing
  docker rm -f judgelet-integration-testing
